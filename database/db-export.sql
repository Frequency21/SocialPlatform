--------------------------------------------------------
--  File created - vasárnap-május-09-2021   
--------------------------------------------------------
DROP TYPE "SOCIALDISTANCINGTM"."ERTEKELES";
DROP TYPE "SOCIALDISTANCINGTM"."NEVTIPUS";
DROP TABLE "SOCIALDISTANCINGTM"."CSOPORT" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."FENYKEP" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."ISMEROS" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."KATEGORIA" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."KOMMENT" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."POSZT" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."TAGJA" cascade constraints;
DROP TABLE "SOCIALDISTANCINGTM"."UZENET" cascade constraints;
DROP VIEW "SOCIALDISTANCINGTM"."FELH_POSZT";
DROP PROCEDURE "SOCIALDISTANCINGTM"."ISMEROSOK";
DROP FUNCTION "SOCIALDISTANCINGTM"."COUNT_LIKES";
DROP FUNCTION "SOCIALDISTANCINGTM"."FUN";
--------------------------------------------------------
--  DDL for Type ERTEKELES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SOCIALDISTANCINGTM"."ERTEKELES" AS OBJECT
(
    like_szamlalo    NUMBER,
    dislike_szamlalo NUMBER
);

/
--------------------------------------------------------
--  DDL for Type NEVTIPUS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "SOCIALDISTANCINGTM"."NEVTIPUS" AS OBJECT
(
    keresztnev VARCHAR(100),
    vezeteknev VARCHAR(100)
);

/
--------------------------------------------------------
--  DDL for Table CSOPORT
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."CSOPORT" 
   (	"CSOPORT_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE , 
	"LEIRAS" VARCHAR2(500 BYTE), 
	"NEV" VARCHAR2(200 BYTE), 
	"TULAJ_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FELHASZNALO
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" 
   (	"ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE , 
	"JELSZO" VARCHAR2(100 BYTE), 
	"EMAIL" VARCHAR2(128 BYTE), 
	"NEV" "SOCIALDISTANCINGTM"."NEVTIPUS" , 
	"CSATL_DAT" DATE, 
	"SZUL_DAT" DATE, 
	"MUNKA_ISKOLA" VARCHAR2(64 BYTE), 
	"PICTURE" VARCHAR2(300 BYTE), 
	"ISADMIN" NUMBER(1,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FENYKEP
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."FENYKEP" 
   (	"KEP_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE , 
	"KEP" VARCHAR2(300 BYTE), 
	"KEP_NEV" VARCHAR2(200 BYTE), 
	"KAT_NEV" VARCHAR2(200 BYTE), 
	"FELH_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ISMEROS
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."ISMEROS" 
   (	"FELHASZNALO1_ID" NUMBER, 
	"FELHASZNALO2_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table KATEGORIA
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."KATEGORIA" 
   (	"NEV" VARCHAR2(200 BYTE), 
	"FELH_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table KOMMENT
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."KOMMENT" 
   (	"ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE , 
	"IDOPONT" DATE, 
	"KOMMENT_IRO_ID" NUMBER, 
	"POSZT_ID" NUMBER, 
	"SZOVEG" VARCHAR2(1000 BYTE), 
	"ERTEKELES" "SOCIALDISTANCINGTM"."ERTEKELES" , 
	"ISPUBLIC" NUMBER(1,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table MEGHIVAS
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" 
   (	"FELHASZNALO_ID" NUMBER, 
	"CIMZETT_ID" NUMBER, 
	"CSOPORT_ID" NUMBER, 
	"IDOPONT" DATE, 
	"ISACCEPTED" NUMBER(1,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table POSZT
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."POSZT" 
   (	"ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE , 
	"IDOPONT" DATE, 
	"SZERZO_ID" NUMBER, 
	"CSOPORT_ID" NUMBER, 
	"FELHASZNALO_ID" NUMBER, 
	"SZOVEG" VARCHAR2(1000 BYTE), 
	"ERTEKELES" "SOCIALDISTANCINGTM"."ERTEKELES" , 
	"ISPUBLIC" NUMBER(1,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TAGJA
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."TAGJA" 
   (	"FELHASZNALO_ID" NUMBER, 
	"CSOPORT_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table UZENET
--------------------------------------------------------

  CREATE TABLE "SOCIALDISTANCINGTM"."UZENET" 
   (	"ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE , 
	"IDOPONT" DATE, 
	"KULDO_ID" NUMBER, 
	"CIMZETT_ID" NUMBER, 
	"SZOVEG" VARCHAR2(1000 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for View FELH_POSZT
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "SOCIALDISTANCINGTM"."FELH_POSZT" ("ID", "SZERZO_PROFIL_KEP", "IDOPONT", "SZERZO_ID", "SZERZO_NEV", "SZOVEG", "ERTEKELES", "ISPUBLIC") AS 
  select f.id id,
       szerzo.picture szerzo_profil_kep,
       idopont,
       szerzo_id,
       szerzo.nev.VEZETEKNEV || ' ' || szerzo.nev.KERESZTNEV szerzo_nev,
       szoveg,
       ertekeles,
       isPublic
FROM felhasznalo f
         inner join
     poszt p
     on
             f.id = p.felhasznalo_id
         inner join felhasznalo szerzo
                    on
                            p.szerzo_id = szerzo.id
;
REM INSERTING into SOCIALDISTANCINGTM.CSOPORT
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.CSOPORT (CSOPORT_ID,LEIRAS,NEV,TULAJ_ID) values ('1','Számítógép alkatrészek, adok-veszek','Hardverapró','2');
Insert into SOCIALDISTANCINGTM.CSOPORT (CSOPORT_ID,LEIRAS,NEV,TULAJ_ID) values ('2','Adatbázis alapú redszerek helyesírása','Adatb2','1');
Insert into SOCIALDISTANCINGTM.CSOPORT (CSOPORT_ID,LEIRAS,NEV,TULAJ_ID) values ('3','Cryptovaluták nyaggatása','Brave New World','3');
Insert into SOCIALDISTANCINGTM.CSOPORT (CSOPORT_ID,LEIRAS,NEV,TULAJ_ID) values ('4','SZTE legjobbjai, a jelszó meg: ******','SZTE4EVER','2');
Insert into SOCIALDISTANCINGTM.CSOPORT (CSOPORT_ID,LEIRAS,NEV,TULAJ_ID) values ('5','Lelkisegélyszolgálat az egyetemisták ért','Cryout a hero','2');
Insert into SOCIALDISTANCINGTM.CSOPORT (CSOPORT_ID,LEIRAS,NEV,TULAJ_ID) values ('6','Brühühűűűűűű, még nagyon sok mindent kell legépelnem','Suffer 2gether','2');
REM INSERTING into SOCIALDISTANCINGTM.FELHASZNALO
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('1','12345','picilady@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Adamov', 'Afrodita'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('97-SZEPT.-19','RR-MON-DD'),'SZTE','http://localhost:8081/api/user/profile/1','1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('2','12345','oli@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Kiss', 'Olivér'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('97-AUG.  -21','RR-MON-DD'),'SZTE','http://localhost:8081/api/user/profile/2','1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('3','12345','etele@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Etele', 'Balogh'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('01-FEBR. -02','RR-MON-DD'),'SZTE','http://localhost:8081/api/user/profile/3','1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('4','12345','ralf@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Burza', 'Ralf'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('99-FEBR. -03','RR-MON-DD'),'SZTE','http://localhost:8081/api/user/profile/4','0');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('5','12345','taylor@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Taylor', 'Sor'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('97-AUG.  -21','RR-MON-DD'),'backend','http://localhost:8081/api/user/profile/5','1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('6','12345','yndiliadrion@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Yndi', 'Liadring'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('99-ÁPR.  -05','RR-MON-DD'),'frontend','http://localhost:8081/api/user/profile/6','1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('7','12345','deny@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('De', 'Ny'),to_date('21-MÁJ.  -08','RR-MON-DD'),to_date('01-ÁPR.  -05','RR-MON-DD'),'frontend','http://localhost:8081/api/user/profile/7','0');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('8','12345','geralt@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Ríviai', 'Geralt'),to_date('21-MÁJ.  -09','RR-MON-DD'),to_date('20-ÁPR.  -21','RR-MON-DD'),'egyetem',null,'1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('9','12345','hawk@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Stephen', 'Hawking'),to_date('21-MÁJ.  -09','RR-MON-DD'),to_date('20-ÁPR.  -21','RR-MON-DD'),'egyetem',null,'1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('10','12345','einstein@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Albert', 'Einstein'),to_date('21-MÁJ.  -09','RR-MON-DD'),to_date('20-ÁPR.  -21','RR-MON-DD'),'egyetem',null,'1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('11','12345','magdolna@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Mária', 'Magdolna'),to_date('21-MÁJ.  -09','RR-MON-DD'),to_date('20-ÁPR.  -21','RR-MON-DD'),'reptér',null,'1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('12','12345','peter@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Szent', 'Péter'),to_date('21-MÁJ.  -09','RR-MON-DD'),to_date('20-ÁPR.  -21','RR-MON-DD'),'vasút',null,'1');
Insert into SOCIALDISTANCINGTM.FELHASZNALO (ID,JELSZO,EMAIL,NEV,CSATL_DAT,SZUL_DAT,MUNKA_ISKOLA,PICTURE,ISADMIN) values ('13','12345','marie@gmail.com',SOCIALDISTANCINGTM.NEVTIPUS('Marie', 'Curie'),to_date('21-MÁJ.  -09','RR-MON-DD'),to_date('20-ÁPR.  -21','RR-MON-DD'),'kórház',null,'1');
REM INSERTING into SOCIALDISTANCINGTM.FENYKEP
SET DEFINE OFF;
REM INSERTING into SOCIALDISTANCINGTM.ISMEROS
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('1','2');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('1','3');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('1','4');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('1','5');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('1','6');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('2','3');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('2','5');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('2','6');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('3','6');
Insert into SOCIALDISTANCINGTM.ISMEROS (FELHASZNALO1_ID,FELHASZNALO2_ID) values ('5','6');
REM INSERTING into SOCIALDISTANCINGTM.KATEGORIA
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.KATEGORIA (NEV,FELH_ID) values ('iskola','2');
Insert into SOCIALDISTANCINGTM.KATEGORIA (NEV,FELH_ID) values ('memes','2');
Insert into SOCIALDISTANCINGTM.KATEGORIA (NEV,FELH_ID) values ('nyaralás','2');
REM INSERTING into SOCIALDISTANCINGTM.KOMMENT
SET DEFINE OFF;
REM INSERTING into SOCIALDISTANCINGTM.MEGHIVAS
SET DEFINE OFF;
REM INSERTING into SOCIALDISTANCINGTM.POSZT
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('1',to_date('21-MÁJ.  -09','RR-MON-DD'),'1',null,'2','boldog születésnapot',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('2',to_date('21-MÁJ.  -09','RR-MON-DD'),'2',null,'1','köszi :*',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('3',to_date('21-MÁJ.  -09','RR-MON-DD'),'2',null,'1','jó az új pulcsid',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('4',to_date('21-MÁJ.  -09','RR-MON-DD'),'1',null,'2','köszi pervollal mosom',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('5',to_date('21-MÁJ.  -09','RR-MON-DD'),'1',null,'2','Go to hell',SOCIALDISTANCINGTM.ERTEKELES(6, 4),'0');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('6',to_date('21-MÁJ.  -09','RR-MON-DD'),'3',null,'4','akarsz hallani egy Gyurcsány viccet?',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('7',to_date('21-MÁJ.  -09','RR-MON-DD'),'4',null,'3','kösz nem',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
Insert into SOCIALDISTANCINGTM.POSZT (ID,IDOPONT,SZERZO_ID,CSOPORT_ID,FELHASZNALO_ID,SZOVEG,ERTEKELES,ISPUBLIC) values ('8',to_date('21-MÁJ.  -09','RR-MON-DD'),'5',null,'6','mi lesz a vacsi?',SOCIALDISTANCINGTM.ERTEKELES(1, 2),'1');
REM INSERTING into SOCIALDISTANCINGTM.TAGJA
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.TAGJA (FELHASZNALO_ID,CSOPORT_ID) values ('1','2');
Insert into SOCIALDISTANCINGTM.TAGJA (FELHASZNALO_ID,CSOPORT_ID) values ('2','1');
Insert into SOCIALDISTANCINGTM.TAGJA (FELHASZNALO_ID,CSOPORT_ID) values ('2','4');
Insert into SOCIALDISTANCINGTM.TAGJA (FELHASZNALO_ID,CSOPORT_ID) values ('2','5');
Insert into SOCIALDISTANCINGTM.TAGJA (FELHASZNALO_ID,CSOPORT_ID) values ('2','6');
Insert into SOCIALDISTANCINGTM.TAGJA (FELHASZNALO_ID,CSOPORT_ID) values ('3','3');
REM INSERTING into SOCIALDISTANCINGTM.UZENET
SET DEFINE OFF;
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('1',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','2','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('2',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','1','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('3',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','3','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('4',to_date('21-MÁJ.  -09','RR-MON-DD'),'3','1','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('5',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','4','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('6',to_date('21-MÁJ.  -09','RR-MON-DD'),'4','1','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('7',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','5','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('8',to_date('21-MÁJ.  -09','RR-MON-DD'),'5','1','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('9',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','6','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('10',to_date('21-MÁJ.  -09','RR-MON-DD'),'6','1','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('11',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','3','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('12',to_date('21-MÁJ.  -09','RR-MON-DD'),'3','2','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('13',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','5','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('14',to_date('21-MÁJ.  -09','RR-MON-DD'),'5','2','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('15',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','6','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('16',to_date('21-MÁJ.  -09','RR-MON-DD'),'6','2','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('17',to_date('21-MÁJ.  -09','RR-MON-DD'),'3','6','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('18',to_date('21-MÁJ.  -09','RR-MON-DD'),'6','3','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('19',to_date('21-MÁJ.  -09','RR-MON-DD'),'5','6','keep distance');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('20',to_date('21-MÁJ.  -09','RR-MON-DD'),'6','5','you too!');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('21',to_date('21-MÁJ.  -09','RR-MON-DD'),'10','13','E=\gamma \dot mc^2');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('22',to_date('21-MÁJ.  -09','RR-MON-DD'),'13','10','what about Bose-Einstein condenstation?');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('23',to_date('21-MÁJ.  -09','RR-MON-DD'),'10','13','Time is relative');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('24',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','2','olah');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('25',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','1','chirio');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('26',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','2','occam házi megvan már? :tireddolife:');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('27',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','1',':peposuicide:');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('28',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','3','olah');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('29',to_date('21-MÁJ.  -09','RR-MON-DD'),'3','1','chirio');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('30',to_date('21-MÁJ.  -09','RR-MON-DD'),'1','3','prolog zh-ra készültél már?');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('31',to_date('21-MÁJ.  -09','RR-MON-DD'),'3','1',':peposuicide:');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('32',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','5','lesz holnap assembly előadás?');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('33',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','1','<3');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('34',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','6','prolog házi meg van már?');
Insert into SOCIALDISTANCINGTM.UZENET (ID,IDOPONT,KULDO_ID,CIMZETT_ID,SZOVEG) values ('35',to_date('21-MÁJ.  -09','RR-MON-DD'),'2','3','occam házi megvan már?');
--------------------------------------------------------
--  DDL for Index PK_TAGJA_ID
--------------------------------------------------------

  CREATE UNIQUE INDEX "SOCIALDISTANCINGTM"."PK_TAGJA_ID" ON "SOCIALDISTANCINGTM"."TAGJA" ("FELHASZNALO_ID", "CSOPORT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_KATEGORIA
--------------------------------------------------------

  CREATE UNIQUE INDEX "SOCIALDISTANCINGTM"."PK_KATEGORIA" ON "SOCIALDISTANCINGTM"."KATEGORIA" ("NEV", "FELH_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_ISMEROS_ID
--------------------------------------------------------

  CREATE UNIQUE INDEX "SOCIALDISTANCINGTM"."PK_ISMEROS_ID" ON "SOCIALDISTANCINGTM"."ISMEROS" ("FELHASZNALO1_ID", "FELHASZNALO2_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_MEGHIVAS_ID
--------------------------------------------------------

  CREATE UNIQUE INDEX "SOCIALDISTANCINGTM"."PK_MEGHIVAS_ID" ON "SOCIALDISTANCINGTM"."MEGHIVAS" ("FELHASZNALO_ID", "CIMZETT_ID", "CSOPORT_ID", "IDOPONT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger CSOPORT_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SOCIALDISTANCINGTM"."CSOPORT_TRIGGER" 
    after insert 
    on CSOPORT
    for each row
begin
    insert into TAGJA(FELHASZNALO_ID, CSOPORT_ID) VALUES (:NEW.TULAJ_ID, :NEW.CSOPORT_ID);
end;

/
ALTER TRIGGER "SOCIALDISTANCINGTM"."CSOPORT_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger ISMEROS_KOSZONTES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SOCIALDISTANCINGTM"."ISMEROS_KOSZONTES" 
    after insert
    on ISMEROS
    for each row
begin
    insert into UZENET(IDOPONT, KULDO_ID, CIMZETT_ID, SZOVEG) VALUES(SYSTIMESTAMP, :NEW.FELHASZNALO1_ID, :NEW.FELHASZNALO2_ID, 'keep distance');
    insert into UZENET(IDOPONT, KULDO_ID, CIMZETT_ID, SZOVEG) VALUES(SYSTIMESTAMP, :NEW.FELHASZNALO2_ID, :NEW.FELHASZNALO1_ID, 'you too!');
end;

/
ALTER TRIGGER "SOCIALDISTANCINGTM"."ISMEROS_KOSZONTES" ENABLE;
--------------------------------------------------------
--  DDL for Trigger ISMEROS_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "SOCIALDISTANCINGTM"."ISMEROS_TRIGGER" 
    before insert or update
    on ISMEROS
    for each row
declare
    v_swap NUMBER;--ISMEROS.FELHASZNALO1_ID%type;
begin
    if :NEW.FELHASZNALO1_ID > :NEW.FELHASZNALO2_ID
    then
        v_swap := :NEW.FELHASZNALO1_ID;
        :NEW.FELHASZNALO1_ID := :NEW.FELHASZNALO2_ID;
        :NEW.FELHASZNALO2_ID := v_swap;
    end if;
end;

/
ALTER TRIGGER "SOCIALDISTANCINGTM"."ISMEROS_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Procedure ISMEROSOK
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "SOCIALDISTANCINGTM"."ISMEROSOK" (felh_id in number, var_ref in out sys_refcursor) is
begin
    open var_ref for 
    select ID, JELSZO, EMAIL, f.NEV.VEZETEKNEV as VNEV, f.NEV.KERESZTNEV as KNEV, CSATL_DAT, SZUL_DAT, MUNKA_ISKOLA, PICTURE, ISADMIN 
    from
        FELHASZNALO f inner join ISMEROS i 
    on 
            f.ID = i.FELHASZNALO1_ID
        or
            f.ID = i.FELHASZNALO2_ID
    where 
            i.FELHASZNALO1_ID = felh_id AND f.ID != felh_id 
        or 
            i.FELHASZNALO2_ID = felh_id AND f.ID != felh_id;
end;

/
--------------------------------------------------------
--  DDL for Function COUNT_LIKES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "SOCIALDISTANCINGTM"."COUNT_LIKES" (felh_id in number) return ERTEKELES
is
    v_ossz_like number := 0;
    v_ossz_dislike number := 0;
    result ERTEKELES := ERTEKELES(0,0);
    cursor c_poszt is
        select p.ertekeles.like_, p.ertekeles.dislike_
        from
            (select * from FELHASZNALO
             where id = 2) f
             inner join poszt p
                on f.ID = p.FELHASZNALO_ID;
begin                                        
    for poszt in c_poszt
    loop
        v_ossz_like := v_ossz_like + poszt.ERTEKELES.LIKE_;
        v_ossz_dislike := v_ossz_dislike + poszt.ERTEKELES.DISLIKE_;
    end loop;
    result.like_ := v_ossz_like;
    result.dislike_ := v_ossz_dislike;
return result;
end;

/
--------------------------------------------------------
--  DDL for Function FUN
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "SOCIALDISTANCINGTM"."FUN" (num in number) return ERTEKELES is
    res ERTEKELES := ERTEKELES(1,1);
begin
    DBMS_OUTPUT.PUT_LINE('hello ' || num  || ' world!');
    return res;
end;

/
--------------------------------------------------------
--  Constraints for Table TAGJA
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."TAGJA" ADD CONSTRAINT "PK_TAGJA_ID" PRIMARY KEY ("FELHASZNALO_ID", "CSOPORT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CSOPORT
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."CSOPORT" ADD UNIQUE ("NEV")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."CSOPORT" ADD PRIMARY KEY ("CSOPORT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."CSOPORT" MODIFY ("TULAJ_ID" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."CSOPORT" MODIFY ("NEV" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."CSOPORT" MODIFY ("CSOPORT_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table KATEGORIA
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."KATEGORIA" ADD CONSTRAINT "PK_KATEGORIA" PRIMARY KEY ("NEV", "FELH_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table POSZT
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" MODIFY ("ERTEKELES" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" MODIFY ("ISPUBLIC" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" MODIFY ("SZOVEG" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" MODIFY ("IDOPONT" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table FENYKEP
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."FENYKEP" ADD PRIMARY KEY ("KEP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."FENYKEP" MODIFY ("KEP" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FENYKEP" MODIFY ("KEP_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table UZENET
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" MODIFY ("CIMZETT_ID" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" MODIFY ("KULDO_ID" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" MODIFY ("IDOPONT" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table KOMMENT
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" MODIFY ("ERTEKELES" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" MODIFY ("ISPUBLIC" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" MODIFY ("SZOVEG" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" MODIFY ("IDOPONT" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ISMEROS
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."ISMEROS" ADD CONSTRAINT "PK_ISMEROS_ID" PRIMARY KEY ("FELHASZNALO1_ID", "FELHASZNALO2_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table FELHASZNALO
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" ADD UNIQUE ("EMAIL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("NEV" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("ISADMIN" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("SZUL_DAT" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("CSATL_DAT" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("JELSZO" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."FELHASZNALO" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table MEGHIVAS
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" ADD CONSTRAINT "PK_MEGHIVAS_ID" PRIMARY KEY ("FELHASZNALO_ID", "CIMZETT_ID", "CSOPORT_ID", "IDOPONT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" MODIFY ("ISACCEPTED" NOT NULL ENABLE);
  ALTER TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" MODIFY ("IDOPONT" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table CSOPORT
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."CSOPORT" ADD CONSTRAINT "FK_CSOPORT_FELHASZNALO" FOREIGN KEY ("TULAJ_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table FENYKEP
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."FENYKEP" ADD CONSTRAINT "FK_FENYKEP_KATEGORIA" FOREIGN KEY ("KAT_NEV", "FELH_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."KATEGORIA" ("NEV", "FELH_ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ISMEROS
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."ISMEROS" ADD CONSTRAINT "FK_ISMEROS_KI" FOREIGN KEY ("FELHASZNALO1_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."ISMEROS" ADD CONSTRAINT "FK_ISMEROS_KINEK" FOREIGN KEY ("FELHASZNALO2_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table KATEGORIA
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."KATEGORIA" ADD CONSTRAINT "FK_KATEGORIA_FENYKEPALBUM" FOREIGN KEY ("FELH_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table KOMMENT
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" ADD CONSTRAINT "FK_KOMMENT_FELHASZNALO" FOREIGN KEY ("KOMMENT_IRO_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."KOMMENT" ADD CONSTRAINT "FK_KOMMENT_POSZT" FOREIGN KEY ("POSZT_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."POSZT" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table MEGHIVAS
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" ADD CONSTRAINT "FK_MEGHIVAS_CIMZETT" FOREIGN KEY ("CIMZETT_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" ADD CONSTRAINT "FK_MEGHIVAS_CSOPORT" FOREIGN KEY ("CSOPORT_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."CSOPORT" ("CSOPORT_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."MEGHIVAS" ADD CONSTRAINT "FK_MEGHIVAS_FELHASZNALO" FOREIGN KEY ("FELHASZNALO_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table POSZT
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" ADD CONSTRAINT "FK_POSZT_HIRFOLYAM" FOREIGN KEY ("FELHASZNALO_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" ADD CONSTRAINT "FK_POSZT_HIRFOLYAM_CSOPORT" FOREIGN KEY ("CSOPORT_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."CSOPORT" ("CSOPORT_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."POSZT" ADD CONSTRAINT "FK_SZERZO_ID" FOREIGN KEY ("SZERZO_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TAGJA
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."TAGJA" ADD CONSTRAINT "FK_TAGJA_CSOPORT" FOREIGN KEY ("CSOPORT_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."CSOPORT" ("CSOPORT_ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."TAGJA" ADD CONSTRAINT "FK_TAGJA_FELHASZNALO" FOREIGN KEY ("FELHASZNALO_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table UZENET
--------------------------------------------------------

  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" ADD CONSTRAINT "FK_UZENET_CIMZETT" FOREIGN KEY ("CIMZETT_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SOCIALDISTANCINGTM"."UZENET" ADD CONSTRAINT "FK_UZENET_KULDO" FOREIGN KEY ("KULDO_ID")
	  REFERENCES "SOCIALDISTANCINGTM"."FELHASZNALO" ("ID") ON DELETE CASCADE ENABLE;
